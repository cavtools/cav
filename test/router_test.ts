// case: path sorting
// case: empty segment cleaning
// case: every acceptable type, including router shapes inside arrays